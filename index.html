<!DOCTYPE html><html><head><title>Learn You Laravel Reminders For Fun and Profit</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="//twilio.com/bundles/marketing/img/favicons/favicon.ico"><link rel="apple-touch-icon" href="//twilio.com/bundles/marketing/img/favicons/favicon_57.png"><link rel="apple-touch-icon" sizes="72x72" href="//twilio.com/bundles/marketing/img/favicons/favicon_72.png"><link rel="apple-touch-icon" sizes="114x114" href="//twilio.com/bundles/marketing/img/favicons/favicon_114.png"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div id="viewsaurus" data-title="Learn You Laravel Reminders For Fun and Profit"><div class="saurus-panes"><div class="saurus-prose"><div class="saurus-prose-header"><div class="title-outer"><span class="step-title">Learn You Laravel Reminders For Fun and Profit</span></div></div><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>Learn to implement appointment reminders functionality with PHP and Laravel 5.1</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Configuring the application" class="chapter"><div data-title="The application" data-file="composer.json" class="step"><h2 id="what-the-application-does">What the application does</h2>
<p>The application allows the user to create appointments for customers. Each appointment has a person&#39;s name, a phone number, an appointment time, and a &#39;delta&#39; value which indicates how many minutes before the customer should be notified of their appointment. The customers are then reminded of their appointment through SMS using Twilio&#39;s API</p>
<h2 id="this-tutorial">This tutorial</h2>
<p>It&#39;s rather common to write tests for each part of our application and that&#39;s how we&#39;re going to work in this tutorial. We will write unit tests and a few integration tests. At any time you can run the application using the built-in <code>php artisan serve</code> command.</p>
</div><div data-title="Dependencies" data-file="composer.json" data-highlight="6-16" class="step"><h2 id="dependencies">Dependencies</h2>
<p>For this tutorial we will use Laravel 5.1 as the web framework and PostgreSQL for persistence. However, since we will interact with the database solely through <a href="http://laravel.com/docs/5.1/eloquent">Eloquent</a> you are free to use whichever database you are most comfortable with. Aside from Laravel and related libraries we will use two external libraries to make our lives easier:</p>
<ul>
<li><a href="http://carbon.nesbot.com/">Carbon</a>: an object-oriented wrapper around PHP&#39;s time functions. This will make it much easier to work with the problems that come up when working with time.</li>
<li><a href="https://www.twilio.com/docs/php/install">Twilio-PHP</a>: a helper library wrapping Twilio&#39;s API.</li>
<li><a href="http://laravelcollective.com/docs/5.1/html">Laravel Collective HTML</a>: a collection of helpers to generate HTML. No longer part of Laravel&#39;s core after the 5.0 release.</li>
</ul>
<p>As is common in Laravel projects, we will use <a href="https://getcomposer.org/">Composer</a> to manage and load the application&#39;s dependencies. If you&#39;re not familiar with Composer it&#39;s worth reading about it. I promise it will be worth-it.</p>
<h3 id="test-dependencies">Test dependencies</h3>
<p>We will also work with <a href="http://docs.mockery.io/en/latest/">Mockery</a> and <a href="http://docs.mockery.io/en/latest/">PHPUnit</a> during development so we can write a comprehensive test-suite for the application. Laravel&#39;s seed project (generated using <code>laravel new</code>) will include both libraries in <code>composer.json</code> by default, along with other testing libraries.</p>
</div><div data-title="Configuration" data-file="env.example" class="step"><h2 id="dealing-with-configuration">Dealing with configuration</h2>
<p>We need to configure the database and the tokens the application will use to access Twilio&#39;s API. By default, Laravel&#39;s seed application will attempt to read its configuration from the environment. As you might know, new versions of Laravel <a href="http://laravel.com/docs/5.1#environment-configuration">use the Dotenv library to manage configuration during development</a>. Any configuration should be stored in a <code>.env</code> file at the root of your application. The key pieces of information here are the database configuration and the Twilio token, SID and sending number.</p>
</div><div data-title="Reading the configuration" data-file="bootstrap/app.php" data-highlight="44-46" class="step"><h2 id="reading-the-configuration-from-the-environment">Reading the configuration from the environment</h2>
<p>When it comes to database configuration, Laravel automatically loads the configuration from the environment and configures Eloquent to use it. However, since we need to store and load custom configuration the process is a little more manual. First of all, we want to make sure the environment variables are set before we even attempt to start the application. For this we will use <code>Dotenv</code> once again.</p>
</div><div data-title="Exposing the configuration" data-file="config/services.php" data-highlight="17-21" class="step"><h2 id="exposing-the-configuration-to-the-rest-of-the-application">Exposing the configuration to the rest of the application</h2>
<p>We want to read the configuration from the environment exactly once and then make it available through the <code>config</code> <a href="http://laravel.com/docs/5.1#configuration-caching">helper function</a>. In order to do this, we must first name the configuration parameters. We will simply downcase the environment variables&#39; names. Now if we want to access the <code>TWILIO_AUTH_TOKEN</code> we can just call <code>config(&#39;services.twilio&#39;)</code> and then lookup the <code>twilio_auth_token</code> key in the resulting associative map. The same pattern follows for the other two variables.</p>
<p>Next we will look at the web part of the application.</p>
</div></div><div data-title="The web application" class="chapter"><div data-title="Routes" data-file="app/Http/routes.php" class="step"><h2 id="routes">Routes</h2>
<p>  The web part of the application is a simple CRUD layer over the <code>Appointment</code> exposed as a set of RESTful endpoints. We&#39;ll skim over most of the implementation since most developers are likely familiar with most of the concepts. Here you can see the Laravel resource that will generate GET, POST, PUT/PATCH, and DELETE endpoints for the resource. We have also included a root handler that will redirect the app&#39;s root URL to the appointment index route. <a href="http://laravel.com/docs/5.0/controllers#restful-resource-controllers">You can find more information on the conventions in Laravel&#39;s documentation.</a></p>
</div><div data-title="Model and Controller" data-file="app/Http/Controllers/AppointmentController.php" class="step"><h2 id="the-model">The model</h2>
<p>  As mentioned in the introduction, the interaction with the database is done solely through Eloquent and we have defined exactly one model that only specifies the table where the rows are going to be saved. Eloquent can take it from here. As in common in Laravel applications, the database is modified through migrations. The migrations under <code>database/migrations</code> and the model are the core of the persistence layer of the application.</p>
<h2 id="the-controller">The controller</h2>
<p>The controller simply implements the CRUD operations. The validation simply checks that all fields are present and that the phone number only has numbers and possibly symbols. This is <a href="https://www.twilio.com/help/faq/phone-numbers/how-do-i-format-phone-numbers-to-work-internationally">to allow for storage of numbers in E.164 format</a>. As you might have noticed, we save the date and time in UTC, but also save the timezone offset in order to compute the user&#39;s local time for appointment reminders</p>
</div><div data-title="The views" data-file="resources/views/appointment/_form.blade.php" class="step"><h2 id="the-view">The view</h2>
<p>  The view layer is standard <a href="http://laravel.com/docs/5.1/blade">Laravel&#39;s Blade templates</a>. In order to keep everything nice and tidy the views inherit from a master template and then render their own content into it. We include a few libraries: <a href="http://getbootstrap.com/">Bootstrap</a> and <a href="https://jquery.com/">jQuery</a> are the most important ones. The view displaying the index can be found as <code>resources/views/appointment/index.blade.php</code> and the partial view containing the main form used to create/edit appointments can be found in <code>resources/views/appointment/_form.blade.php</code>. That&#39;s all for the web part of the application.</p>
<p>  Next we will send the SMS reminders using a background job.</p>
</div></div><div data-title="Sending remainders" class="chapter"><div data-title="Sending the reminders" data-file="app/Console/Commands/SendReminders.php" data-highlight="38-56" class="step"><h2 id="sending-the-reminders">Sending the reminders</h2>
<p>In order to message our customers we need to do three things:</p>
<ol>
<li>Find all possible appointments.</li>
<li>Determine which appointments are &quot;due&quot;.</li>
<li>Send the appointment reminders.</li>
</ol>
<p>Now, we&#39;re going write a class for each task, except for the first one since Eloquent makes this a one-liner. The code will be executed using every minute using <a href="http://laravel.com/docs/5.1/scheduling#defining-schedules">Laravel&#39;s scheduler</a></p>
</div><div data-title="Finding appointments that are due" data-file="app/AppointmentReminders/AppointmentFinder.php" data-highlight="24-43" class="step"><h2 id="the-appointmentfinder-class">The <code>AppointmentFinder</code> class</h2>
<p>When instantiated, this class expects a <a href="http://laravel.com/docs/5.1/collections">Laravel collection</a> with <code>Appointment</code> objects in it. The logic of the class is as follows:</p>
<ol>
<li>Find the current time and add one minute to it. This will be the interval of &quot;current&quot; appointments</li>
<li>Substract the &quot;delta&quot; minutes from the time the appointment is scheduled. Remember the application is supposed to remind customers of <em>future</em> appointments</li>
<li>Check if this computed time falls within the interval computed in 1.</li>
</ol>
<p>The algorithm is a predicate that then is used to filter the appointment collection. As already mentioned, it&#39;s important to keep in mind all operations concerning time are done assuming UTC time.</p>
</div><div data-title="Sending the reminders" data-file="app/AppointmentReminders/AppointmentReminder.php" class="step"><h2 id="the-appointmentreminder-class">The <code>AppointmentReminder</code> class</h2>
<p>The responsibility of the class is sending the remainders through SMS. Similarly to the <code>AppointmentFinder</code> class, it expects a collection of <code>Appointment</code> objects when instantiated. The logic is as follows:</p>
<ol>
<li>Iterate over every element in the collection.</li>
<li>Format a message to be sent to the customer as a reminder.</li>
<li>Contact the Twilio API in order to send the messages.</li>
</ol>
<p>Since all times stored in the system are stored using <code>UTC</code> we first need to use the &quot;Timezone offset&quot; to correct the time so the message contains a time in the customer&#39;s own time zone.</p>
</div><div data-title="Running the Laravel scheduler" data-file="app/Console/Kernel.php" class="step"><h2 id="scheduling-messages-to-be-sent">Scheduling messages to be sent</h2>
<p>Now that we have all the pieces done and working together it&#39;s time to run the Laravel scheduler. Wherever you might be deploying the application needs to run the <code>php artisan schedule:run</code> command every minute. This can be done quite easily using cron. But something simple like an infinite shell loop should work just fine (but might not be reliable). The scheduler can be ran manually using <code>php artisan reminders:send</code>.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="composer.json" data-mode="json">ewogICAgIm5hbWUiOiAiVHdpbGlvRGV2RWQvYXBwb2ludG1lbnQtcmVtaW5kZXItbGFyYXZlbCIsCiAgICAiZGVzY3JpcHRpb24iOiAiQW4gU01TIHJlbWluZGVycyBzYW1wbGUgYXBwbGljYXRpb24iLAogICAgImxpY2Vuc2UiOiAiTUlUIiwKICAgICJ0eXBlIjogInByb2plY3QiLAogICAgInJlcXVpcmUiOiB7CiAgICAgICAgInBocCI6ICI+PTUuNS45IiwKICAgICAgICAibGFyYXZlbC9mcmFtZXdvcmsiOiAiNS4xLioiLAogICAgICAgICJpbGx1bWluYXRlL2h0bWwiOiAifjUuMCIsCiAgICAgICAgIm5lc2JvdC9jYXJib24iOiAifjEuMTkiLAogICAgICAgICJ0d2lsaW8vc2RrIjogIn40LjIiCiAgICB9LAogICAgInJlcXVpcmUtZGV2IjogewogICAgICAgICJtb2NrZXJ5L21vY2tlcnkiOiAiMC45LioiLAogICAgICAgICJwaHB1bml0L3BocHVuaXQiOiAifjQuMCIKICAgIH0sCiAgICAiYXV0b2xvYWQiOiB7CiAgICAgICAgImNsYXNzbWFwIjogWwogICAgICAgICAgICAiZGF0YWJhc2UiLAogICAgICAgICAgICAiYXBwL21vZGVscyIKICAgICAgICBdLAogICAgICAgICJwc3ItNCI6IHsKICAgICAgICAgICAgIkFwcFxcIjogImFwcC8iCiAgICAgICAgfQogICAgfSwKICAgICJhdXRvbG9hZC1kZXYiOiB7CiAgICAgICAgImNsYXNzbWFwIjogWwogICAgICAgICAgICAidGVzdHMvVGVzdENhc2UucGhwIgogICAgICAgIF0KICAgIH0sCiAgICAic2NyaXB0cyI6IHsKICAgICAgICAicG9zdC1pbnN0YWxsLWNtZCI6IFsKICAgICAgICAgICAgInBocCBhcnRpc2FuIGNsZWFyLWNvbXBpbGVkIiwKICAgICAgICAgICAgInBocCBhcnRpc2FuIG9wdGltaXplIgogICAgICAgIF0sCiAgICAgICAgInByZS11cGRhdGUtY21kIjogWwogICAgICAgICAgICAicGhwIGFydGlzYW4gY2xlYXItY29tcGlsZWQiCiAgICAgICAgXSwKICAgICAgICAicG9zdC11cGRhdGUtY21kIjogWwogICAgICAgICAgICAicGhwIGFydGlzYW4gb3B0aW1pemUiCiAgICAgICAgXSwKICAgICAgICAicG9zdC1yb290LXBhY2thZ2UtaW5zdGFsbCI6IFsKICAgICAgICAgICAgInBocCAtciBcImNvcHkoJy5lbnYuZXhhbXBsZScsICcuZW52Jyk7XCIiCiAgICAgICAgXSwKICAgICAgICAicG9zdC1jcmVhdGUtcHJvamVjdC1jbWQiOiBbCiAgICAgICAgICAgICJwaHAgYXJ0aXNhbiBrZXk6Z2VuZXJhdGUiCiAgICAgICAgXQogICAgfSwKICAgICJjb25maWciOiB7CiAgICAgICAgInByZWZlcnJlZC1pbnN0YWxsIjogImRpc3QiCiAgICB9Cn0K</textarea>
<textarea class="saurus-file" data-file="env.example" data-mode="text">QVBQX0VOVj1sb2NhbApBUFBfREVCVUc9dHJ1ZQpBUFBfS0VZPVNvbWVLZXlIZXJlCgpEQl9IT1NUPQpEQl9EQVRBQkFTRT0KREJfVVNFUk5BTUU9CkRCX1BBU1NXT1JEPQpEQl9DT05ORUNUSU9OPQoKQ0FDSEVfRFJJVkVSPWZpbGUKU0VTU0lPTl9EUklWRVI9ZmlsZQpRVUVVRV9EUklWRVI9c3luYwoKTUFJTF9EUklWRVI9c210cApNQUlMX0hPU1Q9bWFpbHRyYXAuaW8KTUFJTF9QT1JUPTI1MjUKTUFJTF9VU0VSTkFNRT1udWxsCk1BSUxfUEFTU1dPUkQ9bnVsbApNQUlMX0VOQ1JZUFRJT049bnVsbAoKVFdJTElPX0FDQ09VTlRfU0lEPQpUV0lMSU9fQVVUSF9UT0tFTj0KVFdJTElPX1NFTkRJTkdfTlVNQkVSPQ==</textarea>
<textarea class="saurus-file" data-file="bootstrap/app.php" data-mode="php">PD9waHAKCi8qCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IENyZWF0ZSBUaGUgQXBwbGljYXRpb24KfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnwKfCBUaGUgZmlyc3QgdGhpbmcgd2Ugd2lsbCBkbyBpcyBjcmVhdGUgYSBuZXcgTGFyYXZlbCBhcHBsaWNhdGlvbiBpbnN0YW5jZQp8IHdoaWNoIHNlcnZlcyBhcyB0aGUgImdsdWUiIGZvciBhbGwgdGhlIGNvbXBvbmVudHMgb2YgTGFyYXZlbCwgYW5kIGlzCnwgdGhlIElvQyBjb250YWluZXIgZm9yIHRoZSBzeXN0ZW0gYmluZGluZyBhbGwgb2YgdGhlIHZhcmlvdXMgcGFydHMuCnwKKi8KCiRhcHAgPSBuZXcgSWxsdW1pbmF0ZVxGb3VuZGF0aW9uXEFwcGxpY2F0aW9uKAogICAgcmVhbHBhdGgoX19ESVJfXy4nLy4uLycpCik7CgovKgp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KfCBCaW5kIEltcG9ydGFudCBJbnRlcmZhY2VzCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgTmV4dCwgd2UgbmVlZCB0byBiaW5kIHNvbWUgaW1wb3J0YW50IGludGVyZmFjZXMgaW50byB0aGUgY29udGFpbmVyIHNvCnwgd2Ugd2lsbCBiZSBhYmxlIHRvIHJlc29sdmUgdGhlbSB3aGVuIG5lZWRlZC4gVGhlIGtlcm5lbHMgc2VydmUgdGhlCnwgaW5jb21pbmcgcmVxdWVzdHMgdG8gdGhpcyBhcHBsaWNhdGlvbiBmcm9tIGJvdGggdGhlIHdlYiBhbmQgQ0xJLgp8CiovCgoKJGFwcC0+c2luZ2xldG9uKAogICAgSWxsdW1pbmF0ZVxDb250cmFjdHNcSHR0cFxLZXJuZWw6OmNsYXNzLAogICAgQXBwXEh0dHBcS2VybmVsOjpjbGFzcwopOwoKJGFwcC0+c2luZ2xldG9uKAogICAgSWxsdW1pbmF0ZVxDb250cmFjdHNcQ29uc29sZVxLZXJuZWw6OmNsYXNzLAogICAgQXBwXENvbnNvbGVcS2VybmVsOjpjbGFzcwopOwoKJGFwcC0+c2luZ2xldG9uKAogICAgSWxsdW1pbmF0ZVxDb250cmFjdHNcRGVidWdcRXhjZXB0aW9uSGFuZGxlcjo6Y2xhc3MsCiAgICBBcHBcRXhjZXB0aW9uc1xIYW5kbGVyOjpjbGFzcwopOwoKRG90ZW52OjpyZXF1aXJlZChbJ1RXSUxJT19BQ0NPVU5UX1NJRCcsICdUV0lMSU9fQVVUSF9UT0tFTicsICdUV0lMSU9fU0VORElOR19OVU1CRVInXSk7CgovKgp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KfCBSZXR1cm4gVGhlIEFwcGxpY2F0aW9uCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgVGhpcyBzY3JpcHQgcmV0dXJucyB0aGUgYXBwbGljYXRpb24gaW5zdGFuY2UuIFRoZSBpbnN0YW5jZSBpcyBnaXZlbiB0bwp8IHRoZSBjYWxsaW5nIHNjcmlwdCBzbyB3ZSBjYW4gc2VwYXJhdGUgdGhlIGJ1aWxkaW5nIG9mIHRoZSBpbnN0YW5jZXMKfCBmcm9tIHRoZSBhY3R1YWwgcnVubmluZyBvZiB0aGUgYXBwbGljYXRpb24gYW5kIHNlbmRpbmcgcmVzcG9uc2VzLgp8CiovCgpyZXR1cm4gJGFwcDsK</textarea>
<textarea class="saurus-file" data-file="config/services.php" data-mode="php">PD9waHAKCnJldHVybiBbCgogICAgLyoKICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgfCBUaGlyZCBQYXJ0eSBTZXJ2aWNlcwogICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICB8CiAgICB8IFRoaXMgZmlsZSBpcyBmb3Igc3RvcmluZyB0aGUgY3JlZGVudGlhbHMgZm9yIHRoaXJkIHBhcnR5IHNlcnZpY2VzIHN1Y2gKICAgIHwgYXMgU3RyaXBlLCBNYWlsZ3VuLCBNYW5kcmlsbCwgYW5kIG90aGVycy4gVGhpcyBmaWxlIHByb3ZpZGVzIGEgc2FuZQogICAgfCBkZWZhdWx0IGxvY2F0aW9uIGZvciB0aGlzIHR5cGUgb2YgaW5mb3JtYXRpb24sIGFsbG93aW5nIHBhY2thZ2VzCiAgICB8IHRvIGhhdmUgYSBjb252ZW50aW9uYWwgcGxhY2UgdG8gZmluZCB5b3VyIHZhcmlvdXMgY3JlZGVudGlhbHMuCiAgICB8CiAgICAqLwoKICAgICd0d2lsaW8nID0+IFsKICAgICAgICAndHdpbGlvX2FjY291bnRfc2lkJyA9PiBlbnYoJ1RXSUxJT19BQ0NPVU5UX1NJRCcpLAogICAgICAgICd0d2lsaW9fYXV0aF90b2tlbicgPT4gZW52KCdUV0lMSU9fQVVUSF9UT0tFTicpLAogICAgICAgICd0d2lsaW9fc2VuZGluZ19udW1iZXInID0+IGVudignVFdJTElPX1NFTkRJTkdfTlVNQkVSJykKICAgIF0KXTsK</textarea>
<textarea class="saurus-file" data-file="app/Http/routes.php" data-mode="php">PD9waHAKCi8qCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IEFwcGxpY2F0aW9uIFJvdXRlcwp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KfAp8IEhlcmUgaXMgd2hlcmUgeW91IGNhbiByZWdpc3RlciBhbGwgb2YgdGhlIHJvdXRlcyBmb3IgYW4gYXBwbGljYXRpb24uCnwgSXQncyBhIGJyZWV6ZS4gU2ltcGx5IHRlbGwgTGFyYXZlbCB0aGUgVVJJcyBpdCBzaG91bGQgcmVzcG9uZCB0bwp8IGFuZCBnaXZlIGl0IHRoZSBjb250cm9sbGVyIHRvIGNhbGwgd2hlbiB0aGF0IFVSSSBpcyByZXF1ZXN0ZWQuCnwKKi8KClJvdXRlOjpnZXQoCiAgICAnLycsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gcmVkaXJlY3QoKS0+cm91dGUoJ2FwcG9pbnRtZW50LmluZGV4Jyk7CiAgICB9Cik7CgpSb3V0ZTo6cmVzb3VyY2UoJ2FwcG9pbnRtZW50JywgJ0FwcG9pbnRtZW50Q29udHJvbGxlcicpOw==</textarea>
<textarea class="saurus-file" data-file="app/Http/Controllers/AppointmentController.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcSHR0cFxDb250cm9sbGVyczsKCnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZTsKCnVzZSBBcHBcSHR0cFxSZXF1ZXN0czsKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CgpjbGFzcyBBcHBvaW50bWVudENvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIHByaXZhdGUgJGFwcG9pbnRtZW50OwogICAgcHJpdmF0ZSAkdmFsaWRJbnB1dENvbmRpdGlvbnMgPSBhcnJheSgKICAgICAgICAnbmFtZScgPT4gJ3JlcXVpcmVkJywKICAgICAgICAncGhvbmVOdW1iZXInID0+ICdyZXF1aXJlZHxtaW46NScsCiAgICAgICAgJ3doZW4nID0+ICdyZXF1aXJlZCcsCiAgICAgICAgJ3RpbWV6b25lT2Zmc2V0JyA9PiAncmVxdWlyZWQnLAogICAgICAgICdkZWx0YScgPT4gJ3JlcXVpcmVkfG51bWVyaWMnCiAgICApOwoKICAgIC8qKgogICAgICogRGlzcGxheSBhIGxpc3Rpbmcgb2YgdGhlIHJlc291cmNlLgogICAgICoKICAgICAqIEByZXR1cm4gUmVzcG9uc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkKICAgIHsKICAgICAgICAkYWxsQXBwb2ludG1lbnRzID0gXEFwcFxBcHBvaW50bWVudDo6b3JkZXJCeSgnaWQnLCAnQVNDJyktPmdldCgpOwogICAgICAgIHJldHVybiByZXNwb25zZSgpLT52aWV3KCdhcHBvaW50bWVudC5pbmRleCcsIGFycmF5KCdhcHRzJyA9PiAkYWxsQXBwb2ludG1lbnRzKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTaG93IHRoZSBmb3JtIGZvciBjcmVhdGluZyBhIG5ldyByZXNvdXJjZS4KICAgICAqCiAgICAgKiBAcmV0dXJuIFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoKQogICAgewogICAgICAgICRhcHBvaW50bWVudCA9IG5ldyBcQXBwXEFwcG9pbnRtZW50OwogICAgICAgIHJldHVybiBcVmlldzo6bWFrZSgnYXBwb2ludG1lbnQuY3JlYXRlJywgYXJyYXkoJ2FwcG9pbnRtZW50JyA9PiAkYXBwb2ludG1lbnQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIFN0b3JlIGEgbmV3bHkgY3JlYXRlZCByZXNvdXJjZSBpbiBzdG9yYWdlLgogICAgICoKICAgICAqIEByZXR1cm4gUmVzcG9uc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHN0b3JlKFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgJG5ld0FwcG9pbnRtZW50ID0gJHRoaXMtPmFwcG9pbnRtZW50RnJvbVJlcXVlc3QoJHJlcXVlc3QpOwogICAgICAgICRuZXdBcHBvaW50bWVudC0+c2F2ZSgpOwogICAgICAgIHJldHVybiByZWRpcmVjdCgpLT5yb3V0ZSgnYXBwb2ludG1lbnQuaW5kZXgnKTsKICAgIH0KCiAgICAvKioKICAgICAqIERlbGV0ZSBhIHJlc291cmNlIGluIHN0b3JhZ2UuCiAgICAgKgogICAgICogQHJldHVybiBSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZGVzdHJveSgkaWQpIHsKICAgICAgICBcQXBwXEFwcG9pbnRtZW50OjpmaW5kKCRpZCktPmRlbGV0ZSgpOwogICAgICAgIHJldHVybiByZWRpcmVjdCgpLT5yb3V0ZSgnYXBwb2ludG1lbnQuaW5kZXgnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZWRpdCgkaWQpIHsKICAgICAgICAkYXBwb2ludG1lbnRUb0VkaXQgPSBcQXBwXEFwcG9pbnRtZW50OjpmaW5kKCRpZCk7CiAgICAgICAgcmV0dXJuIFxWaWV3OjptYWtlKCdhcHBvaW50bWVudC5lZGl0JywgYXJyYXkoJ2FwcG9pbnRtZW50JyA9PiAkYXBwb2ludG1lbnRUb0VkaXQpKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKFJlcXVlc3QgJHJlcXVlc3QsICRpZCkgewogICAgICAgICR1cGRhdGVkQXBwb2ludG1lbnQgPSAkdGhpcy0+YXBwb2ludG1lbnRGcm9tUmVxdWVzdCgkcmVxdWVzdCk7CiAgICAgICAgJGV4aXN0aW5nQXBwb2ludG1lbnQgPSBcQXBwXEFwcG9pbnRtZW50OjpmaW5kKCRpZCk7CgogICAgICAgICRleGlzdGluZ0FwcG9pbnRtZW50LT5uYW1lID0gJHVwZGF0ZWRBcHBvaW50bWVudC0+bmFtZTsKICAgICAgICAkZXhpc3RpbmdBcHBvaW50bWVudC0+cGhvbmVOdW1iZXIgPSAkdXBkYXRlZEFwcG9pbnRtZW50LT5waG9uZU51bWJlcjsKICAgICAgICAkZXhpc3RpbmdBcHBvaW50bWVudC0+dGltZXpvbmVPZmZzZXQgPSAkdXBkYXRlZEFwcG9pbnRtZW50LT50aW1lem9uZU9mZnNldDsKICAgICAgICAkZXhpc3RpbmdBcHBvaW50bWVudC0+d2hlbiA9ICR1cGRhdGVkQXBwb2ludG1lbnQtPndoZW47CiAgICAgICAgJGV4aXN0aW5nQXBwb2ludG1lbnQtPmRlbHRhID0gJHVwZGF0ZWRBcHBvaW50bWVudC0+ZGVsdGE7CgogICAgICAgICRleGlzdGluZ0FwcG9pbnRtZW50LT5zYXZlKCk7CiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KCktPnJvdXRlKCdhcHBvaW50bWVudC5pbmRleCcpOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gYXBwb2ludG1lbnRGcm9tUmVxdWVzdChSZXF1ZXN0ICRyZXF1ZXN0KSB7CiAgICAgICAgJHRoaXMtPnZhbGlkYXRlKCRyZXF1ZXN0LCAkdGhpcy0+dmFsaWRJbnB1dENvbmRpdGlvbnMpOwogICAgICAgICRuZXdBcHBvaW50bWVudCA9IG5ldyBcQXBwXEFwcG9pbnRtZW50OwoKICAgICAgICAkbmV3QXBwb2ludG1lbnQtPm5hbWUgPSAkcmVxdWVzdC0+aW5wdXQoJ25hbWUnKTsKICAgICAgICAkbmV3QXBwb2ludG1lbnQtPnBob25lTnVtYmVyID0gJHJlcXVlc3QtPmlucHV0KCdwaG9uZU51bWJlcicpOwogICAgICAgICRuZXdBcHBvaW50bWVudC0+dGltZXpvbmVPZmZzZXQgPSAkcmVxdWVzdC0+aW5wdXQoJ3RpbWV6b25lT2Zmc2V0Jyk7CiAgICAgICAgJG5ld0FwcG9pbnRtZW50LT53aGVuID0gJHJlcXVlc3QtPmlucHV0KCd3aGVuJyk7CiAgICAgICAgJG5ld0FwcG9pbnRtZW50LT5kZWx0YSA9ICRyZXF1ZXN0LT5pbnB1dCgnZGVsdGEnKTsKCiAgICAgICAgcmV0dXJuICRuZXdBcHBvaW50bWVudDsKICAgIH0KfQo=</textarea>
<textarea class="saurus-file" data-file="resources/views/appointment/_form.blade.php" data-mode="php">PGRpdiBjbGFzcz0iY29sLW1kLTQgY29sLWxnLTQiPgogICAgPGgyPnt7ICRoZWFkaW5nIH19PC9oMj4KICAgIDxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWRlZmF1bHQiPgogICAgICAgIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgogICAgICAgICAgICBAdW5sZXNzICgkZXJyb3JzLT5pc0VtcHR5KCkpCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHJvbGU9ImFsZXJ0Ij4KICAgICAgICAgICAgICAgICAgICBAZm9yZWFjaCgkZXJyb3JzLT5hbGwoKSBhcyAkZXJyb3IpCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4ge3sgJGVycm9yIH19IDwvbGk+CiAgICAgICAgICAgICAgICAgICAgQGVuZGZvcmVhY2gKICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBAZW5kdW5sZXNzCiAgICAgICAgICAgIHshISBGb3JtOjptb2RlbCgkYXBwb2ludG1lbnQsIGFycmF5KCdyb3V0ZScgPT4gJHJvdXRlLCAnbWV0aG9kJyA9PiAkbWV0aG9kLCAnaWQnID0+ICduZXctYXBwb2ludG1lbnQnKSkgISF9CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgeyEhIEZvcm06OmxhYmVsKCduYW1lJywgJ05hbWUnKSAhIX0KICAgICAgICAgICAgICAgIHshISBGb3JtOjp0ZXh0KCduYW1lJywgbnVsbCwgYXJyYXkoJ2NsYXNzJyA9PiAnZm9ybS1jb250cm9sJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJyA9PiAnTmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAndGV4dCcpKSAhIX0KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIHshISBGb3JtOjpsYWJlbCgncGhvbmVOdW1iZXInLCAnUGhvbmUgbnVtYmVyJykgISF9CiAgICAgICAgICAgICAgICB7ISEgRm9ybTo6dGV4dCgncGhvbmVOdW1iZXInLCBudWxsLCBhcnJheSgnY2xhc3MnID0+ICdmb3JtLWNvbnRyb2wnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJyA9PiAnUGhvbmUgbnVtYmVyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAndGVsJykpICEhfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICB7ISEgRm9ybTo6bGFiZWwoJ3doZW5Mb2NhbCcsICdBcHBvaW50bWVudCB0aW1lJykgISF9CiAgICAgICAgICAgICAgICB7ISEgRm9ybTo6dGV4dCgnd2hlbkxvY2FsJywgbnVsbCwgYXJyYXkoJ2NsYXNzJyA9PiAnZm9ybS1jb250cm9sJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJyA9PiAnVGltZSBvZiBhcHBvaW50bWVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAndGV4dCcsICdpZCcgPT4gJ3RpbWUtb2YtYXBwb2ludG1lbnQtbG9jYWwnKSkgISF9CiAgICAgICAgICAgICAgICB7ISEgRm9ybTo6aGlkZGVuKCd3aGVuJywgbnVsbCwgYXJyYXkoJ2lkJyA9PiAndGltZS1vZi1hcHBvaW50bWVudCcpKSAhIX0KICAgICAgICAgICAgICAgIHshISBGb3JtOjpoaWRkZW4oJ3RpbWV6b25lT2Zmc2V0JywgbnVsbCwgYXJyYXkoJ2lkJyA9PiAndXNlci10aW1lem9uZScpKSAhIX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgeyEhIEZvcm06OmxhYmVsKCdkZWx0YScsICdOb3RpZmljYXRpb24gdGltZScpICEhfQogICAgICAgICAgICAgICAgeyEhIEZvcm06OnNlbGVjdCgnZGVsdGEnLCBhcnJheSgnMTUnID0+ICcxNSBtaW51dGVzJywgJzMwJyA9PiAnMzAgbWludXRlcycsICc2MCcgPT4gJ09uZSBob3VyJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5KCdjbGFzcycgPT4gJ2Zvcm0tY29udHJvbCcsICdwbGFjZWhvbGRlcicgPT4gJ1RpbWUgYmVmb3JlIGFwcG9pbnRtZW50JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJyA9PiAnZGVsdGEnKSkgISF9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2xzIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgaHJlZj0iIyIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+e3sgJHN1Ym1pdFRleHQgfX08L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgeyEhIEZvcm06OmNsb3NlKCkgISF9CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9kaXY+Cg==</textarea>
<textarea class="saurus-file" data-file="app/Console/Commands/SendReminders.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcQ29uc29sZVxDb21tYW5kczsKCnVzZSBJbGx1bWluYXRlXENvbnNvbGVcQ29tbWFuZDsKCmNsYXNzIFNlbmRSZW1pbmRlcnMgZXh0ZW5kcyBDb21tYW5kCnsKICAgIC8qKgogICAgICogVGhlIG5hbWUgYW5kIHNpZ25hdHVyZSBvZiB0aGUgY29uc29sZSBjb21tYW5kLgogICAgICoKICAgICAqIEB2YXIgc3RyaW5nCiAgICAgKi8KICAgIHByb3RlY3RlZCAkc2lnbmF0dXJlID0gJ3JlbWluZGVyczpzZW5kJzsKCiAgICAvKioKICAgICAqIFRoZSBjb25zb2xlIGNvbW1hbmQgZGVzY3JpcHRpb24uCiAgICAgKgogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgcHJvdGVjdGVkICRkZXNjcmlwdGlvbiA9ICdTZW5kIHJlbWluZGVycyB1c2luZyBUd2lsaW8nOwoKICAgIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IGNvbW1hbmQgaW5zdGFuY2UuCiAgICAgKgogICAgICogQHJldHVybiB2b2lkCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCiAgICB7CiAgICAgICAgcGFyZW50OjpfX2NvbnN0cnVjdCgpOwogICAgfQoKICAgIC8qKgogICAgICogRXhlY3V0ZSB0aGUgY29uc29sZSBjb21tYW5kLgogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gaGFuZGxlKCkKICAgIHsKICAgICAgICAkdHdpbGlvQ29uZmlnID0gY29uZmlnKCdzZXJ2aWNlcy50d2lsaW8nKTsKICAgICAgICAkYWNjb3VudFNpZCA9ICR0d2lsaW9Db25maWdbJ3R3aWxpb19hY2NvdW50X3NpZCddOwogICAgICAgICRhdXRoVG9rZW4gPSAkdHdpbGlvQ29uZmlnWyd0d2lsaW9fYXV0aF90b2tlbiddOwogICAgICAgICRzZW5kaW5nTnVtYmVyID0gJHR3aWxpb0NvbmZpZ1sndHdpbGlvX3NlbmRpbmdfbnVtYmVyJ107CiAgICAgICAgJHR3aWxpb0NsaWVudCA9IG5ldyBcU2VydmljZXNfVHdpbGlvKCRhY2NvdW50U2lkLCAkYXV0aFRva2VuKTsKCiAgICAgICAgJGFsbEFwcG9pbnRtZW50cyA9IFxBcHBcQXBwb2ludG1lbnQ6OmFsbCgpOwogICAgICAgICRhcHBvaW50bWVudHNGaW5kZXIgPSBuZXcgXEFwcFxBcHBvaW50bWVudFJlbWluZGVyc1xBcHBvaW50bWVudEZpbmRlcigkYWxsQXBwb2ludG1lbnRzKTsKICAgICAgICAkbWF0Y2hpbmdBcHBvaW50bWVudHMgPSAkYXBwb2ludG1lbnRzRmluZGVyLT5maW5kTWF0Y2hpbmdBcHBvaW50bWVudHMoKTsKICAgICAgICAkYXBwb2ludG1lbnRSZW1pbmRlciA9IG5ldyBcQXBwXEFwcG9pbnRtZW50UmVtaW5kZXJzXEFwcG9pbnRtZW50UmVtaW5kZXIoCiAgICAgICAgICAgICRtYXRjaGluZ0FwcG9pbnRtZW50cywKICAgICAgICAgICAgJHNlbmRpbmdOdW1iZXIsCiAgICAgICAgICAgICR0d2lsaW9DbGllbnQtPmFjY291bnQtPm1lc3NhZ2VzCiAgICAgICAgKTsKCiAgICAgICAgJGFwcG9pbnRtZW50UmVtaW5kZXItPnNlbmRSZW1pbmRlcnMoKTsKICAgIH0KfQo=</textarea>
<textarea class="saurus-file" data-file="app/AppointmentReminders/AppointmentFinder.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcQXBwb2ludG1lbnRSZW1pbmRlcnM7Cgp1c2UgQ2FyYm9uXENhcmJvbjsKCmNsYXNzIEFwcG9pbnRtZW50RmluZGVyCnsKICAgIC8qKgogICAgICogQ29uc3RydWN0IGEgbmV3IEFwcG9pbnRtZW50RmluZGVyCiAgICAgKgogICAgICogQHBhcmFtIElsbHVtaW5hdGVcRGF0YWJhc2VcRWxvcXVlbnRcQ29sbGVjdGlvbiBDb2xsZWN0aW9uIG9mIGFwcG9pbnRtZW50cwogICAgICovCiAgICBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkYXBwb2ludG1lbnRzKSB7CiAgICAgICAgJHRoaXMtPmFwcG9pbnRtZW50cyA9ICRhcHBvaW50bWVudHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBGaW5kIGFwcG9pbnRtZW50cyB3aXRoIGEgcmVtaW5kZXIgd2l0aGluIHRoZSBuZXh0IG1pbnV0ZQogICAgICoKICAgICAqIEByZXR1cm4gSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxDb2xsZWN0aW9uIENvbGxlY3Rpb24gb2YgYXBwb2ludG1lbnRzIHRoYXQKICAgICAqICAgICAgICAgbXVzdCBiZSByZW1pbmRlZCB3aXRoaW4gYSBtaW51dGUKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGZpbmRNYXRjaGluZ0FwcG9pbnRtZW50cygpCiAgICB7CiAgICAgICAgJGFwcG9pbnRtZW50c1RvUmVtaW5kID0gJHRoaXMtPmFwcG9pbnRtZW50cy0+ZmlsdGVyKAogICAgICAgICAgICBmdW5jdGlvbiAoJGFwcG9pbnRtZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJHRoaXMtPmlzQXBwb2ludG1lbnRXaXRoaW5BTWludXRlKCRhcHBvaW50bWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICApOwoKICAgICAgICByZXR1cm4gJGFwcG9pbnRtZW50c1RvUmVtaW5kOwogICAgfQoKICAgIHByaXZhdGUgZnVuY3Rpb24gaXNBcHBvaW50bWVudFdpdGhpbkFNaW51dGUoJGFwcG9pbnRtZW50KQogICAgewogICAgICAgICRub3cgPSBDYXJib246Om5vdygpOwogICAgICAgICRpblRlbk1pbnV0ZXMgPSBDYXJib246Om5vdygpLT5hZGRNaW51dGVzKDEwKTsKICAgICAgICAkYXBwb2ludG1lbnRUaW1lID0gQ2FyYm9uOjpwYXJzZSgkYXBwb2ludG1lbnQtPndoZW4sICdVVEMnKTsKICAgICAgICAkYXBwb2ludG1lbnRSZW1pbmRlclRpbWUgPSAkYXBwb2ludG1lbnRUaW1lLT5zdWJNaW51dGVzKCRhcHBvaW50bWVudC0+ZGVsdGEpOwoKICAgICAgICByZXR1cm4gJGFwcG9pbnRtZW50UmVtaW5kZXJUaW1lLT5iZXR3ZWVuKCRub3csICRpblRlbk1pbnV0ZXMpOwogICAgfQoKfQ==</textarea>
<textarea class="saurus-file" data-file="app/AppointmentReminders/AppointmentReminder.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcQXBwb2ludG1lbnRSZW1pbmRlcnM7Cgp1c2UgSWxsdW1pbmF0ZVxMb2c7CnVzZSBDYXJib25cQ2FyYm9uOwoKY2xhc3MgQXBwb2ludG1lbnRSZW1pbmRlcgp7CiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhIG5ldyBBcHBvaW50bWVudFJlbWluZGVyCiAgICAgKgogICAgICogQHBhcmFtIElsbHVtaW5hdGVcU3VwcG9ydFxDb2xsZWN0aW9uICRhcHBvaW50bWVudHMgQ29sbGVjdGlvbiBvZiBhcHBvaW50bWVudHMKICAgICAqLwogICAgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGFwcG9pbnRtZW50cywgJHNlbmRpbmdOdW1iZXIsICR0d2lsaW9DbGllbnQpCiAgICB7CiAgICAgICAgJHRoaXMtPmFwcG9pbnRtZW50cyA9ICRhcHBvaW50bWVudHM7CiAgICAgICAgJHRoaXMtPnNlbmRpbmdOdW1iZXIgPSAkc2VuZGluZ051bWJlcjsKICAgICAgICAkdGhpcy0+dHdpbGlvQ2xpZW50ID0gJHR3aWxpb0NsaWVudDsKICAgIH0KCiAgICAvKioKICAgICAqIFNlbmQgcmVtaW5kZXJzIGZvciBlYWNoIGFwcG9pbnRtZW50CiAgICAgKgogICAgICogQHJldHVybiB2b2lkCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZW5kUmVtaW5kZXJzKCkKICAgIHsKICAgICAgICAkdGhpcy0+YXBwb2ludG1lbnRzLT5lYWNoKAogICAgICAgICAgICBmdW5jdGlvbiAoJGFwcG9pbnRtZW50KSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+X3JlbWluZEFib3V0KCRhcHBvaW50bWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICApOwogICAgfQoKICAgIC8qKgogICAgICogU2VuZHMgYSBtZXNzYWdlIGZvciBhbiBhcHBvaW50bWVudAogICAgICoKICAgICAqIEBwYXJhbSBBcHBvaW50bWVudCAkYXBwb2ludG1lbnQgVGhlIGFwcG9pbnRtZW50IHRvIHJlbWluZAogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9yZW1pbmRBYm91dCgkYXBwb2ludG1lbnQpCiAgICB7CiAgICAgICAgJHJlY2lwaWVudE5hbWUgPSAkYXBwb2ludG1lbnQtPm5hbWU7CiAgICAgICAgJGFwcG9pbnRtZW50RGVsdGEgPSAkYXBwb2ludG1lbnQtPmRlbHRhOwogICAgICAgICR0aW1lID0gQ2FyYm9uOjpwYXJzZSgkYXBwb2ludG1lbnQtPndoZW4sICdVVEMnKS0+c3ViTWludXRlcygkYXBwb2ludG1lbnQtPnRpbWV6b25lT2Zmc2V0KS0+Zm9ybWF0KCdnOmkgYScpOwoKICAgICAgICAkbWVzc2FnZSA9ICJIZWxsbyAkcmVjaXBpZW50TmFtZSwgdGhpcyBpcyBhIHJlbWluZGVyIHRoYXQgeW91IGhhdmUgYW4gYXBwb2ludG1lbnQgaW4gJGFwcG9pbnRtZW50RGVsdGEgbWludXRlcyEgVGhhdCBpcyAkdGltZSEiOwogICAgICAgICR0aGlzLT5fc2VuZE1lc3NhZ2UoJGFwcG9pbnRtZW50LT5waG9uZU51bWJlciwgJG1lc3NhZ2UpOwogICAgfQoKICAgIC8qKgogICAgICogU2VuZHMgYSBzaW5nbGUgbWVzc2FnZSB1c2luZyB0aGUgYXBwJ3MgZ2xvYmFsIGNvbmZpZ3VyYXRpb24KICAgICAqCiAgICAgKiBAcGFyYW0gc3RyaW5nICRudW1iZXIgIFRoZSBudW1iZXIgdG8gbWVzc2FnZQogICAgICogQHBhcmFtIHN0cmluZyAkY29udGVudCBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZQogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9zZW5kTWVzc2FnZSgkbnVtYmVyLCAkY29udGVudCkKICAgIHsKICAgICAgICAkdGhpcy0+dHdpbGlvQ2xpZW50LT5jcmVhdGUoCiAgICAgICAgICAgIGFycmF5KAogICAgICAgICAgICAiRnJvbSIgPT4gJHRoaXMtPnNlbmRpbmdOdW1iZXIsCiAgICAgICAgICAgICJUbyIgPT4gJG51bWJlciwKICAgICAgICAgICAgIkJvZHkiID0+ICRjb250ZW50CiAgICAgICAgICAgICkKICAgICAgICApOwogICAgfQp9</textarea>
<textarea class="saurus-file" data-file="app/Console/Kernel.php" data-mode="php">PD9waHAKCm5hbWVzcGFjZSBBcHBcQ29uc29sZTsKCnVzZSBJbGx1bWluYXRlXENvbnNvbGVcU2NoZWR1bGluZ1xTY2hlZHVsZTsKdXNlIElsbHVtaW5hdGVcRm91bmRhdGlvblxDb25zb2xlXEtlcm5lbCBhcyBDb25zb2xlS2VybmVsOwoKY2xhc3MgS2VybmVsIGV4dGVuZHMgQ29uc29sZUtlcm5lbAp7CiAgICAvKioKICAgICAqIFRoZSBBcnRpc2FuIGNvbW1hbmRzIHByb3ZpZGVkIGJ5IHlvdXIgYXBwbGljYXRpb24uCiAgICAgKgogICAgICogQHZhciBhcnJheQogICAgICovCiAgICBwcm90ZWN0ZWQgJGNvbW1hbmRzID0gWwogICAgICAgICdcQXBwXENvbnNvbGVcQ29tbWFuZHNcU2VuZFJlbWluZGVycycKICAgIF07CgogICAgLyoqCiAgICAgKiBEZWZpbmUgdGhlIGFwcGxpY2F0aW9uJ3MgY29tbWFuZCBzY2hlZHVsZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIFxJbGx1bWluYXRlXENvbnNvbGVcU2NoZWR1bGluZ1xTY2hlZHVsZSAgJHNjaGVkdWxlCiAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAqLwogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIHNjaGVkdWxlKFNjaGVkdWxlICRzY2hlZHVsZSkKICAgIHsKICAgICAgICAkc2NoZWR1bGUtPmNvbW1hbmQoJ3JlbWluZGVyczpzZW5kJyktPmV2ZXJ5VGVuTWludXRlcygpOwogICAgfQp9Cg==</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="viewsaurus.js"></script></body></html>